---
title: "Road User video evidence of road traffic offences: Preliminary analysis of Operation Snap data and suggestions for a research agenda"
bibliography: [references.bib, opsnap.bib]
editor:
  markdown: 
    wrap: sentence
author:
  - name: Graham Farrell
    corresponding: true
    affiliations:
      - name: University of Leeds
        department: School of Law
        address: The Liberty Building
        city: Leeds
        country: United Kingdom
        postal-code: LS2 9JT
    orcid: 0000-0002-3987-8457
  - name: Robin Lovelace
    affiliations:
      - name: University of Leeds
        department: Institute for Transport Studies
        address: University Road
        city: Leeds
        country: United Kingdom
        postal-code: LS2 9JT
      - name: Active Travel England
        # department: Data and Digital
        # address: West Offices Station Rise
        # city: York
        # country: United Kingdom
        # postal-code: YO1 6GA
    orcid: 0000-0001-5679-6536
  - name: Steve O'Hern
    affiliations:
      - name: University of Leeds
        department: Institute for Transport Studies
        address: University Road
        city: Leeds
        country: United Kingdom
        postal-code: LS2 9JT
      - name: Monash University Accident Research Centre
        address: Clayton, VIC 3800, Australia
    orcid: 0000-0002-7961-3875
keywords: 
  - Cycling
  - Hotspots 
  - Road safety
  - Video evidence
  - Dashcam
  - Near misses
date: last-modified
format:
  gfm: default
  # pdf: default
  # arxiv-pdf:
  #   keep-tex: true
linenumbers: true # Add (continuous) line numbers?
doublespacing: false # Double space the PDF output?
runninghead: "Preprint" # The text on the top of each page of the output
authorcols: true # Should authors be listed in a single column (default) or in multiple columns (`authorcols: true`)
editor_options: 
  markdown: 
    wrap: sentence
execute: 
  cache: refresh
  echo: false
  warning: false
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  warning = FALSE
)
```

```{r}
#| eval: false
#| echo: false
browseURL("paper.docx")
```

```{r setup}
library(opsnap)
```

# Abstract {.unnumbered}

This study uses data from Operation Snap (OpSnap), the UK police's national system to receive road users' video evidence of road traffic offences.
Data from one police force area for the three calendar years 2021 to 2023 (N= 18,363 records), is analysed.
Of submitted cases, 34.4% were from cyclists (n=6,312) of which 69% resulted in an offence being registered, mostly for driving 'without reasonable consideration to others' or 'without due care and attention'.
Three quarters (75.2%) of reported cases resulted in the recommended disposal of an educational course (including conditional offers), a quarter in no further action, and fewer than 1% for court appearance.
A research agenda using OpSnap data is outlined: comparative analysis of submission type, source, hotspot locations, and case disposal should be undertaken at national, regional, and local levels; research into disposal-related decision-making, video quality, and the role of supporting evidence should identify good practice; further study of video content, offence concentration (recidivism, repeat submitters of evidence, spatial hotspots) and case progression including court cases, holds significant potential to inform policy and practice locally, nationally and internationally. 

# Introduction

Dangerous and criminal driving are significant problems that take many forms [@simon1996; @corbett2003; @corbett2010].
Across Great Britain there were an estimated 1,711 fatalities resulting from a road traffic crash in 2022 and 135,480 causalities reported across all severities [@departmentfortransportReportedRoadCasualties2023].
Most injuries involve motor vehicle occupants, however when accounting for the distance travelled by road user groups, cyclists are over-represented in injury statistics [@departmentfortransportReportedRoadCasualties2023].
Between 2004 and 2022, an average of 104 cyclists were killed and 4,212 were seriously injured each year in Britain according to police records [@departmentfortransport].
Almost half of cyclist fatalities involved collision with a car, with 56% on rural roads (compared to 30% of traffic).
The 2023 report noted that "the most common contributory factor allocated to pedal cyclists in fatal or serious collisions (FSC) with another vehicle was 'driver or rider failed to look properly'" [@departmentfortransport].

```{=html}
<!-- The context for the study is that, between 2004 and 2022, an average of 104 cyclists were killed and 4,212 were seriously injured each year according to official records recorded by police forces across Great Britain [@departmentfortransport].
Almost half of cyclist fatalities involved collision with a car, with 56% on rural roads (compared to 30% of traffic).
The 2023 report noted that “the most common contributory factor allocated to pedal cyclists in fatal or serious collisions (FSC) with another vehicle was ‘driver or rider failed to look properly’” [@departmentfortransport].  -->
```
Cyclist crashes are underreported in police recorded datasets [@elvikIncompleteAccidentReporting1999] and the extent of injuries sustained by cyclists may be higher when hospital-recorded cases are counted [@janstrupetal.UnderstandingTrafficCrash2016].
Under-reporting in police datasets is likely to be greatest for minor injuries, while records are seldom kept when a collision or injury is avoided due to riders or drivers taking evasive actions [@ibrahimCyclingMissesReview2021].
These incidents are often referred to as "near-misses" [@ibrahimCyclingMissesReview2021]

Commuter cyclists in the UK experience a near miss for every six miles of riding [@aldredInvestigatingRatesImpacts2015a], and concern over near misses are a key reason people choose not to cycle [@sandersPerceivedTrafficRisk2015a], being associated with inattentive driving, aggressive driving, driving too fast, passing too close, being car-doored, and being cut off by turning drivers [@sandersPerceivedTrafficRisk2015a].
In their review of near miss cycling crashes, @ibrahimCyclingMissesReview2021 highlighted the need for better data on near misses to inform safety research.

Close passes are the most common type of near miss reported by cyclists, and are associated with collisions resulting in injury [@aldred2016].
A 'close pass' refers to when a vehicle passes too close to a cyclist, which is defined in the UK as less than 1.5 metres away at 30mph (50kph).
Close passes take different forms including the 'punishment pass' by angry drivers for a perceived slight such as causing the driver to slow down [@cubbin2024].
There is no specific law in the UK Road Traffic Act 1988 for driving too close to cyclist, but two are commonly applied for careless driving: RT88575- Drive without due care and attention; and RT99576 -- Driver without reasonable consideration to others - and these are prominent in the analysis that follows. 

This study highlights the potential of using open access data from Operation Snap, the UK police's national system to receive road users' video evidence of road traffic offences.
Operation Snap, often referred to informally as 'OpSnap', was piloted by North Wales police in October 2016 and adopted by all Welsh forces by 20181.
It is now in operation nationally across England and Wales, each police force offering its own submission portal for road users to submit video evidence.
The nature of video submissions and the related expectations are summarised on the website of one Police and Crime Commissioner as follows:   

-   The secure form is for traffic offences, it is NOT for submitting footage of road traffic collisions, any other offences or for parking issues. 
-   The car registration number of the offending vehicle must be clearly visible. 
-   The public should be prepared to sign a witness statement and possibly give evidence in court. 
-   Statements for OpSnap can only be accepted from persons aged 18 or over. If you are under 18 the incident should be reported by email to \[email\]2. 

This is, to our knowledge, the first research study to use this dataset.
As such, the study is offered as proof-of-concept of the potential for analysis of this data, and of its further potential, including understanding the factors associated with cyclist near miss incidents.
Following analysis and discussion of three years of data for one police force area, the study outlines a research agenda designed to inform policy and practice. 

# Methods and data {#sec-methods}

Open access data from West Yorkshire Safer Roads -- OpSnap was used for this study, the media submissions portal having opened in July 2020.
The West Yorkshire Police (WYP) data used here spanned calendar years 2021, 2022 and 2023.
For the year 2021 there was less than half the cases of either 2022 or 2023, which could reflect reduced road use during the COVID-19 pandemic and fewer people being aware of OpSnap when it commenced.

The dataset is a tabulation of cases submitted to the West Yorkshire Safer Roads OpSnap web portal.
The terms 'record' and 'case' are used interchangeably here to refer to a record in the OpSnap database, each of which represents the separate submission of video evidence by a road user.

The portal allows members of the public to submit video footage of suspected traffic offences committed by motor vehicle drivers.
Video footage is commonly recorded from on-board cameras.
For motor vehicles these cameras are typically mounted on or near the vehicle front dashboard, known as 'dash cams'.
One source examined GB Driving Licence data to find that by early 2024, close to a third of private and commercial vehicle in the UK had a dash cam [@DashCamSubmissions2024].
For cyclists, footage is commonly recorded using helmet or handlebar-mounted cameras.
The proportion of cyclists using these cameras is unknown but anecdotal evidence suggests increased usage, with many choosing to record rides in case an incident occurs.

Complainants upload footage and complete a short form that includes their personal details, the details of the vehicle involved including registration, make, model and colour, the location and time of the incident, and details of the camera used to record the footage.
Only vehicle offences can be reported as the registration number of any offending vehicle is required and must be legible in footage.
The open access data is a deidentified summary of submitted cases with informtion on: mode of transport of the person reporting, offender vehicle details (make, model, colour), offence code, recommended disposal, date of submission, district, and offence location.
The offence location is typically a street name and town or city name, or an intersection, and examples included: 'A58 Godley Road, Halifax', 'Keighley Road, Silsden' , 'Woodhouse Lane A660, Leeds'.
For this study, approximate geolocations were obtained using Google API, restricting cases to within West Yorkshire.
Further aspects of the data, their uses and limitations are discussed in what follows.

```{r}
#| include: false
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
library(tidyverse)
remotes::install_github("ITSLeeds/opsnap")
```

```{r}
#| include: false
#| echo: false
devtools::load_all()
```

```{r}
#| echo: false
#| include: false
library(rvest)
query = ".file-link a"
url = "https://www.westyorkshire.police.uk/SaferRoadsSubmissions"
files_available = read_html(url) |>
  html_nodes(query) |>
  html_text()
links_available = read_html(url) |>
  html_nodes(query) |>
  html_attr("href")
urls = paste0("https://www.westyorkshire.police.uk", links_available)
file_names = basename(links_available)
tibble::tibble(file_names) |>
  knitr::kable()

# In preparation for reading-in all data:
# date_str = format(Sys.Date(), "%Y-%m")
date_str = format(as.Date("2024-04-01"), "%Y-%m")
file_name = paste0("data/west-yorkshire/operation_snap_", date_str, ".csv")
```

```{r}
#| eval: false
#| echo: false
# Download them to raw_data/west-yorkshire:
dir.create("raw_data/west-yorkshire", recursive = TRUE, showWarnings = FALSE)
pbapply::pblapply(urls, function(u) {
  download.file(u, paste0("raw_data/west-yorkshire/", basename(u)))
})

# Test with 2nd url:
u = urls[2]
d2 = opsnap:::download_and_read(u)
d_all = purrr::map_df(urls, opsnap:::download_and_read)
dir.create("data/west-yorkshire", recursive = TRUE, showWarnings = FALSE)
# Date to nearest month:
write_csv(d_all, file_name)
```

The data is open acess and looks like this, with names cleaned up by the package:

```{r}
#| eval: false
#| echo: true
#| include: false
u = "https://www.westyorkshire.police.uk/sites/default/files/2024-01/operation_snap_oct-dec_2023_0.xlsx"
d = opsnap:::download_and_read(u)
# Old names:
#  [1] "REPORTER TRANSPORT MODE" "OFFENDER VEHICLE MAKE"  
#  [3] "OFFENDER VEHICLE MODEL"  "OFFENDER VEHICLE COLOUR"
#  [5] "OFFENCE"                 "DISTRICT"               
#  [7] "DISPOSAL"                "DATE OF SUBMISSION"     
#  [9] "...9"                    "OFF LOCATION"
# New names:
# [1] "mode"     "make"     "model"    "colour"   "offence"  "district" "disposal"
# [8] "date"     "location"
```

<!-- The data looks like this (first 3 rows shown): -->

```{r}
#| echo: false
#| include: false
file_exists = file.exists(file_name)
if (!file_exists) {
  # stop("try downloading the data first!")
  u = "https://github.com/ITSLeeds/opsnap/releases/download/v1/operation_snap_2024-04.csv"
  f = basename(u)
  download.file(url = u, destfile = f)
  dir.create("data/west-yorkshire", recursive = TRUE)
  file.copy(f, "data/west-yorkshire/")
}
d_all = read_csv(file_name)
d_all = d_all |>
  mutate(
    mode = tolower(mode),
    offence = tolower(offence),
    disposal = tolower(disposal),
    # First word of text in offence column:
    offence_code = str_extract(offence, "\\w+")
  )
d_all |>
  head(3) |>
  # Convert column names to title case:
  rename_all(snakecase::to_title_case) |>
  # snakecase::to_title_case
  knitr::kable()
```

# Results

```{r}
d_all_monthly = d_all |>
  mutate(month = lubridate::floor_date(date, "month")) |>
  group_by(month) |>
  summarise(n = n()) |>
  mutate(records = "all")
d_offence = d_all |>
  opsnap:::filter_offence_nas()
# table(d_offence$offence) |> sort() |> tail()
#                         rv86019 use a handheld phone / device whilst driving a motor vehicle on a road 
#                                                                                                    357 
#                                  rt88966 motor vehicle fail to comply with endorsable s36 traffic sign 
#                                                                                                    411 
#                                                          rt88971 fail to comply with red traffic light 
#                                                                                                    679 
# rt88975 drive motor vehicle fail to comply with red / green arrow / lane closure traffic light signals 
#                                                                                                   1364 
#                                                           rt88575 drive without due care and attention 
#                                                                                                   2917 
#                                               rt88576 drive without reasonable consideration to others 
#                                                                                                   4992 
d_offence_monthly = d_offence |>
  mutate(month = lubridate::floor_date(date, "month")) |>
  group_by(month) |>
  summarise(n = n()) |>
  mutate(records = "with_offence")
d_with_location = d_all |>
  opsnap:::filter_location_nas()
d_complete = d_offence |>
  opsnap:::filter_location_nas()
d_complete_monthly = d_complete |>
  mutate(month = lubridate::floor_date(date, "month")) |>
  group_by(month) |>
  summarise(n = n()) |>
  mutate(records = "complete")
d_monthly = bind_rows(d_all_monthly, d_complete_monthly)
# d_monthly = bind_rows(d_all_monthly, d_offence_monthly, d_complete_monthly)
```

```{r}
#| label: stats19
#| include: false
years = 2021:2022
dir.create("data/stats19", recursive = TRUE, showWarnings = FALSE)
collisions = stats19::get_stats19(year = 2022)
# collisions_2021 = stats19::get_stats19(year = 2021)
# collisions = purrr::map_df(years, stats19::get_stats19, type = "collision", data_dir = "data/stats19")
stats19_monthly = collisions |>
  filter(police_force == "West Yorkshire") |>
  mutate(month = lubridate::floor_date(date, "month")) |>
  group_by(month) |>
  summarise(n = n()) |>
  mutate(records = "stats19")
```

```{r}
#| label: fig-time
#| fig-cap: "Monthly count of Operation Snap records, West Yorkshire"
d_monthly = bind_rows(d_monthly, stats19_monthly)
d_monthly |>
  mutate(records = snakecase::to_title_case(records)) |> 
  rename_all(snakecase::to_title_case) |> 
  ggplot() +
  geom_line(aes(Month, N, colour = Records), alpha = 0.5, size = 2) +
  # geom_smooth(aes(month, n, colour = records), method = "lm", se = FALSE) +
  labs(title = "Number of records in West Yorkshire Police\nOperation Snap data",
       x = "Date",
       y = "Number of records per month") +
  theme_minimal()
```

There were `r nrow(d_all)` records in the dataset for the three-year study period, with a strong upward trend, as shown in the monthly counts presented in @fig-time.
Some records lacked either an offence (`r nrow(d_all) - nrow(d_offence)`, `r round((nrow(d_all) - nrow(d_offence)) / nrow(d_all) * 100, 1)`%) or a location (`r nrow(d_offence) - nrow(d_complete)`, `r round((nrow(d_offence) - nrow(d_complete)) / nrow(d_all) * 100, 1)`%), or both, leaving `r round(nrow(d_complete) / nrow(d_all) * 100, 1)`% or `r nrow(d_complete)` complete records.
There was a distinct seasonal pattern to reporting, with significant increases in summer months.


Mode of transport of the complainant is shown in @tbl-mode.
Half of cases were reported by vehicle drivers, a third by cyclists, seven percent by pedestrians, with over two percent by horse riders and less than one percent by motorcyclists.

```{r}
#| label: tbl-mode-offences
#| include: true
#| fig-cap: "Number of convictions by offence type (top 6 and other)."
# Aim: get table of n. offences by mode
d_mode_offence_count = d_all |>
  count(mode, offence, sort = TRUE) 
# offences in order of n. offences
d_offence_count = d_all |>
  count(offence, sort = TRUE)
# d_offence_count |>
#   arrange(desc(n)) |>
#   head(20) |>
#   knitr::kable()
# |offence                                                                                                |    n|
# |:------------------------------------------------------------------------------------------------------|----:|
# |n/a                                                                                                    | 5706|
# |rt88576 drive without reasonable consideration to others                                               | 4992|
# |rt88575 drive without due care and attention                                                           | 2917|
# |rt88975 drive motor vehicle fail to comply with red / green arrow / lane closure traffic light signals | 1364|
# |rt88971 fail to comply with red traffic light                                                          |  679|
# |rt88966 motor vehicle fail to comply with endorsable s36 traffic sign                                  |  411|
# |rv86019 use a handheld phone / device whilst driving a motor vehicle on a road                         |  357|
# |rt88760 fail to comply with solid white lines                                                          |  265|
# |rt88751 contravene give way sign                                                                       |  264|
# |suspected contravene weight restriction.                                                               |  213|
# |rt88751 contravene mandatory direction arrows                                                          |  212|
# |me82009 driving on hard shoulder of motorway                                                           |  113|
# |rt88975 fail to comply with red traffic light                                                          |  109|
# |rt88751 motor vehicle fail to comply with a non-endorsable traffic sign other (specify)                |   91|
# |zp97004 fail to comply with red light pelican crossing                                                 |   84|
# |zp97003 stop within controlled area of pelican crossing                                                |   81|
# |rc86814 driver not in proper control of vehicle                                                        |   62|
# |zp97001 stop vehicle within limits of pelican crossing                                                 |   59|
# |hy35001 drive/ride on footpath beside a road                                                           |   42|
# |rr84171 vehicle contravene local traffic order other than parking (e.g. bus lane)                      |   41|
# Pull out the top 6 offences excluding n/a:
d_offence_top_6 = d_mode_offence_count |>
  filter(offence != "n/a") |>
  group_by(offence) |>
  summarise(n = sum(n)) |>
  arrange(desc(n)) |>
  head(6)
d_offence_classified = d_offence_count |>
  filter(offence != "n/a") |>
  mutate(
    Offence = case_when(
      offence %in% d_offence_top_6$offence ~ offence,
      TRUE ~ "Other"
    )
  ) |>
  group_by(Offence) |>
  summarise(`Number of records` = sum(n)) |>
  # Arrange in descending order of n except for "Other":
  arrange(Offence == "Other", desc(`Number of records`)) |>
  mutate(`Percent of records` = round(`Number of records` / sum(`Number of records`) * 100, 1))
d_offence_classified |>
  knitr::kable()
```

```{r}
# reclassify offences into types
x = d_all
regroup_offences_simple = function(x) {
 x |> 
   dplyr::mutate(
     offence_simple = dplyr::case_when(
       stringr::str_detect(offence, "drive without reasonable consideration") ~ "Inconsiderate driving",
       stringr::str_detect(offence, "drive without due care") ~ "Careless driving",
       TRUE ~ "Other"

     )
   )
}
table(x$mode)
regroup_modes = function(x) {
  x |> 
    dplyr::mutate(
      mode_simplified = dplyr::case_when(
      mode == "cyclist" ~ "Cyclist",
      mode == "vehicle driver" ~ "Driver",
      TRUE ~ "Other"
    ))
}

d_all = regroup_offences_simple(d_all)
d_all = regroup_modes(d_all)

```

```{r}
#| label: tbl-mode
#| tbl-cap: Number of OpSnap records by observer mode.
d_all |>
  count(mode, sort = TRUE) |>
  mutate(percent_of_records = n / nrow(d_all)) |>
  mutate(percent_of_records = round(percent_of_records, 3) * 100) |>
  arrange(desc(n)) |>
  rename_all(snakecase::to_title_case) |>
  # Rename N to "Number of records"
  rename(`Number of Records` = N) |>
  knitr::kable()
```

Classification of the committed offence is shown in @tbl-offences.
s previously noted, a high proportion of cases did not include information on the reported office (31.1%), with the most common offences being Driving without reasonable consideration to others (rt88576), and Driving without due care and attention (rt88575).
Within the road traffic act these offences are related to careless driving and drivers are subject to similar penalties.

```{r}
#| label: tbl-offences
#| tbl-cap: Number and percentages of OpSnap records by offence type.
d_all |>
  count(offence, sort = TRUE) |>
  mutate(percent_of_records = n / nrow(d_all)) |>
  mutate(percent_of_records = scales::percent(round(percent_of_records, 3))) |>
  arrange(desc(n)) |>
  head(10) |>
  rename_all(snakecase::to_title_case) |>
  knitr::kable()
```

<!-- The equivalent table excluding records with missing offence data is shown below: -->

```{r}
#| include: false
d_all |>
  opsnap:::filter_offence_nas() |>
  filter(offence != "n/a") |>
  count(offence, sort = TRUE) |>
  mutate(percent_of_records = n / nrow(d_offence)) |>
  mutate(percent_of_records = scales::percent(round(percent_of_records, 3))) |>
  arrange(desc(n)) |>
  head(10) |>
  rename_all(snakecase::to_title_case) |>
  knitr::kable()
```

<!-- For cases submitted by people riding cycles (shown in @tbl-offences-cyclist-observer), the most common offences were also both associated with careless driving, particularly driving without reasonable consideration to others (78.7%), there were also a small proportion of cases associated with drivers using mobile phones (3.7%), failing to comply with traffic signals (3.5%) and contravening regulator signage (0.6%). -->

```{r}
#| label: tbl-mode-offences-crosstab
#| fig-cap: Mode of transport from which video was recorded (columns) and offence type (rows), with counts and percentages within each reporting mode.

# | Offence (grouped)       |               | Total |
# |-------------------------|---------------|-------|
# |                         | Dangerous driving | Other offences | 
# |-------------------------|-------------------|-----------------|
# | **Reporter transport mode** |                   |                 |
# | Vehicle driver          | **Count**           | **5511**        | **654** | **6165** |
# |                         | % within Reporter transport mode | **89.4%** | **10.6%** | **100.0%** |
# | Cyclist                 | **Count**           | **4469**        | **249** | **4718** |
# |                         | % within Reporter transport mode | **94.7%** | **5.3%**  | **100.0%** |
# | Other                   | **Count**           | **1279**        | **220** | **1499** |
# |                         | % within Reporter transport mode | **85.3%** | **14.7%** | **100.0%** |
# | **Total**               | **Count**           | **11259**       | **1123** | **12382** |
# |                         | % within Reporter transport mode | **90.9%** | **9.1%**  | **100.0%** |

# R version:
pivot_counts = d_all |>
  filter(offence != "n/a") |>
#   mutate(
#     offence_simple = case_when(
#       offence %in% d_offence_top_6$offence ~ offence,
#       TRUE ~ "Other"
#   )
# ) |>
  group_by(mode_simplified, offence_simple) |>
  summarise(n = n()) |>
  pivot_wider(names_from = mode_simplified, values_from = n) |> 
  mutate(
    Total = Cyclist + Driver + Other
  ) |>
  arrange(offence_simple == "Other", desc(Total))
pivot_counts_total = tibble::tibble(
  offence_simple = "Total",
  Cyclist = sum(pivot_counts$Cyclist),
  Driver = sum(pivot_counts$Driver),
  Other = sum(pivot_counts$Other),
  Total = sum(pivot_counts$Total)
)

pivot_percents = pivot_counts |>
  # Calculate percentage of each mode
  mutate(
    `Cyclist (%)` = Cyclist / sum(Cyclist) * 100,
    `Driver (%)` = Driver / sum(Driver) * 100,
    `Other (%)` = Other / sum(Other) * 100,
    `Total (%)` = Total / sum(Total) * 100
  )

pivot_percents_totals = pivot_percents |>
  group_by(offence_simple = "Total") |>
  summarise_if(is.numeric, sum) 

pivot_combined = bind_rows(pivot_percents, pivot_percents_totals) 

percent_careless = pivot_combined |> filter(offence_simple == "Careless driving") |> pull(`Total (%)`)
percent_inconsiderate = pivot_combined |> filter(offence_simple == "Inconsiderate driving") |> pull(`Total (%)`)
percent_careless_cycling = pivot_combined |> filter(offence_simple == "Careless driving") |> pull(`Cyclist (%)`)
percent_inconsiderate_cycling = pivot_combined |> filter(offence_simple == "Inconsiderate driving") |> pull(`Cyclist (%)`)
percent_other = pivot_combined |> filter(offence_simple == "Other") |> pull(`Total (%)`)
percent_other_cyclist = pivot_combined |> filter(offence_simple == "Other") |> pull(`Cyclist (%)`)
percent_other_driver = pivot_combined |> filter(offence_simple == "Other") |> pull(`Driver (%)`)
percent_other_other = pivot_combined |> filter(offence_simple == "Other") |> pull(`Other (%)`)

pivot_combined |>
  knitr::kable(digits = 1)

```

While `r round(percent_inconsiderate, 1)` percent of all offences are for inconsiderate driving, they make up the bulk of offences reported by cyclists, with `r round(percent_inconsiderate_cycling, 1)` percent of all offences reported by cyclists being for inconsiderate driving.
Drivers are proportionally `r round(percent_other_driver / percent_other_cyclist, 1)` times more likely to report other types of offences as cyclists, while other reporting modes are most likely to report other types of offences, being `r round(percent_other_other / percent_other_cyclist, 1)` times more likely to report other types of offences as cyclists.
While further research is needed, this makes sense if physically-vulnerable cyclists are most concerned with the dangerous driving of vehicles, whereas drivers also report other types of road traffic offence, with pedestrians and others also more likely to encounter other types of offence.

```{r}
#| label: tbl-offences-cyclist-observer
#| tbl-cap: "Number and percentages of OpSnap records, submitted by cyclists, by offence type."
#| include: false
d_all |>
  opsnap:::filter_offence_nas() |>
  filter(offence != "n/a") |>
  filter(mode == "cyclist") |>
  count(offence, sort = TRUE) |>
  mutate(percent_of_records = n / nrow(d_offence)) |>
  mutate(percent_of_records = scales::percent(round(percent_of_records, 3))) |>
  mutate(
    offence = ifelse(n < 20, "other", offence)
  ) |>
  group_by(offence) |>
  summarise(n = sum(n), n_hybrid = n()) |>
  arrange(n_hybrid, desc(n)) |>
  select(-n_hybrid) |>
  mutate(`% of total` = scales::percent(n / sum(n), accuracy = 0.1)) |>
  rename_all(snakecase::to_title_case) |> 
  knitr::kable()
```

Disposal categories assigned by police are shown in @tbl-disposal.
Roughly a third of cases resulted in no further action, and for most of the remainder drivers were required to undertake an education course.
Conditional offers, that is, drivers being offered a reduced penalty for admitting guilt, were the third most common outcome (XX EXPLAIN FURTHER?).
Close to two percent of cases went to court and a further one percent underwent further investigation.

```{r}
#| label: tbl-disposal
#| tbl-cap: "Most common disposal values in the OpSnap dataset."
d_all |>
  count(disposal, sort = TRUE) |>
  mutate(percent_of_records = n / nrow(d_all)) |>
  mutate(percent_of_records = scales::percent(round(percent_of_records, 3))) |>
  arrange(desc(n)) |>
  rename_all(snakecase::to_title_case) |> 
  knitr::kable()
```

There are `r unique(d_with_location$location) |> length()` unique locations (addresses) in the data, with the most common locations shown in @tbl-locations.

INSERT Table 5 AND/OR Map (TO BE INCLUDED)

```{r}
#| echo: false
#| label: tbl-locations
#| tbl-cap: "Most common locations recorded in the OpSnap dataset"
d_with_location |>
  count(location, sort = TRUE) |>
  mutate(percent_of_records = n / nrow(d_with_location)) |>
  mutate(percent_of_records = scales::percent(round(percent_of_records, 3))) |>
  arrange(desc(n)) |>
  head(10) |>
  rename_all(snakecase::to_title_case) |> 
  knitr::kable()
```

# Discussion

Drawing on the work and findings described above, this discussion outlines a research agenda.
The breadth and depth of potential policy-relevant work that could be undertaken is, we suggest, enormous.
While this preliminary list will not prove exhaustive, if it stimulates or informs further research then it will have achieved its objective.

Cyclists undertake two percent of road miles in the UK [@departmentfortransport].
Other things equal, this suggests that with respect to distance travelled, cyclists were around 20 times more likely to submit evidence of a road traffic offence than vehicle drivers and other road users in West Yorkshire.

Over 90 percent of offences reported by cyclists were for driving without consideration for other road users and without due care and attention.
This is consistent with the phenomenon of 'close passes' in the cycling safety literature [@aldred2016; @cubbin2024].
It suggests the OpSnap data holds the potential for further analysis to inform knowledge about the nature of close passes generally.
For example, it should be possible to identify hotspot locations.
As with much of the further research outlined here, this the potential to inform preventive policy and practice relating to police interventions, driver behaviour, the design of roads and roadside environments.

There was an increase in submissions over time between 2021 and 2023.
This may reflect changing levels of road use during and after the Covid-19 pandemic, increased awareness of OpSnap, or increased video camera ownership levels.
Comparative analysis including other police jurisdictions will be able to determine whether this experience is common or isolated.
We hypothesise that it will prove to be a common experience and that that the volume of submissions will continue to increase in the near and middle term (though ideally, a decline would occur as roads become safer).

If submission volumes continue to increase, means of informing triage and prioritisation of cases will be increasingly valuable.
Triage systems are probably already in use in different areas, and research to identify and inform best practice should be undertaken.
Likewise, research to determine best practice in determining disposal recommendations will prove fruitful.
It may provide feasible, perhaps using machine learning, to develop automated means of triage, determination of offence type and disposal.
Research to gauge the differential effectiveness of disposal measures is needed, starting with measures of recividism.

Within the trend of increasing video submissions there were distinct seasonal patterns.
Seasonal variation in cyclists' submission reflect seasonal (weather and other) influences on cycling prevalence and duration.
This suggests seasonal variation in preventive responses might be tailored to need.
It is well established that crime is highly concentrated along whatever dimension is examined [@farrellPreventingRepeatRepeat2017].
With respect to video evidence this will include recidivists (repeat offenders), repeat submitters of evidence (who may or may not be repeat victims/survivors), the concentration of incidents (close passes, near misses and crashes) at certain times and places, with different types of experiences concentrated among certain types of road users.
For example, we hypothesise that close passes are more likely to be reported by cyclists and horse riders than vehicle drivers, both due to the nature of the road user interactions and the relative risk associated with the manoeuvre.
As such, the types of incidents reported by vehicle drivers would be systematically different, indicating a need for different investigative and preventive approaches.
Policing and preventions efforts focused on where problems are concentrated are more resource efficient -- it is the foundation of problem-oriented policing (see e.g., (@laingAggressiveDriving2010; @scottSpeedingResidentialAreas2010)- and research using video submissions holds the potential to analysis of problem concentrations.

Evidence submitted by cyclists was the focus here.
However, Operation Snap data offer potential for analysis of data from other road user sources.
Studies focused on specific types of road user will prove informative with respect to policy and practice.
Dash cam submissions by motorists offers great potential to inform other aspects of road safety.
Research into submissions by pedestrians, horse riders and motorcyclists should prove viable to improve the safety of these parties.
There were over four hundred submissions by horse riders in West Yorkshire, which means there will be thousands nationwide.
The British Horse Society[^1] and others may be interested in this data being used to inform the safety of horses and riders.
The British Motorcyclists Federation[^2] may be interested in research promoting the safety of its members and in why motorcyclist submissions are relatively infrequent
.

[^1]: https://www.bhs.org.uk/

[^2]: https://www.britishmotorcyclists.co.uk/

This was a case study of West Yorkshire but each of the 43 police forces in England and Wales collates OpSnap data, and our preliminary scoping of individual force websites suggests OpSnap data is publicly available nationwide.
This suggests the potential for development of a national OpSnap dataset.
A feasibility study is needed to establish the availability and compatibility of the data from different forces.
Should a national dataset prove feasible it holds potential for national-level, cross-regional, and comparative analyses of patterns and trends.
A national dataset will enhance the possibility for cross-national comparative analysis and international cooperation in road safety.
It holds the potential for the development of rankings according to different criteria and, thereby, potential performance indicators.

Comparison by complainant mode of transport, reported offense type and disposal, subdivided by other characteristics, is needed.
Determining which type of submission - by which type of road user for example - is more likely to result in a recommendation of court proceedings, may help refine police investigations.
For example, are submissions by cyclists (or horse riders) more or less likely to result in court proceedings than those by motorists?
If so, why?
What is the role of substantive issues, and to what extent are decisions affected by video quality?
Further work with police investigators should inform best practice in the processing and further investigation of submissions.
How are disposal options determined?
Cross-police force comparative analysis may inform national best practice guidelines.

A constraint on the present analysis was the nature of the publicly-available data.
A pilot project should be undertaken in collaboration with police to establish the potential to further enhance policing and public safety using non-public aspects of the submissions data.
This would require working partnerships and a secure research platform to meet GDPR requirements.
Such collaborative approaches are increasingly common in health, medicine, and policing research.

Video footage holds significant potential for further analysis, both qualitative and quantitative.
Police investigations might be improved by research to identify and promote good practice in the assessment of footage, its use in determining disposals, further investigations, and prosecutions.
What type of footage works best in the courtroom, and how is it best identified and prepared?
What is the potential for machine learning to identify, clean, and prepare footage of the most serious submissions?
There are also likely to be lessons that can be learned for how footage is gathered, edited and submitted by road users.
More generally, video footage might be used to identification risk factors, that is, the types of situations in which crashes, near misses, and close passes occur.
This promises the potential to inform policy and practice in ways that ameliorate risk factors.
Within this area of research, analysis from dash cams is likely to inform different practices than that from cycle-cams, that from pedestrians, horse riders and motorcyclists, and so on.

Some research into the relationship between video footage and supporting written evidence is needed.
Is written supported evidence always needed?
Which is deemed most important by police, and which by courts?
What are the characteristics of strong supporting written evidence, and what are the characteristics of strong video evidence?
Are both needed or can a weakness in one be overcome by particularly strong aspects in the other?

The spatial analysis undertaken here was obliged to use data for 'all' video submissions.
We were unable to separate the submissions by cyclists because, in the publicly-available data, locations could not be matched to individual cases: they were scrambled to ensure anonymity for GDPR purposes.
An obvious next step, in the context of a secure research platform, would be spatial analysis for different types of road users, for different types of incidents, for incidents resulting in different disposals, and so on.
Hotspots and spatial clustering are likely to vary by type of road user, type of incident, day or week, time of day, and so on.

Creating opportunities to access video submission data would be an alternate approach that facilitates research into the nature of footage.
Another option would be research using existing online videos, of which there appear to be many thousands on social media including those posted by police forces.
Such research will face different methodological challenges but could provide proof-of-concept of the potential for analysis of OpSnap footage.

OpSnap data should be compared to, and integrated with, other road safety datasets.
For example, spatial analysis that was Integrated with Strava data (road use data by cyclists and pedestrians), Google road use and other data, may facilitate exposure-based measures rather than the counts used here.
The use of rates will enhance the identification locations with higher risk because based on their volume of traffic: different types of risk need to be gauged.
Comparison and integration of OpSnap and Stats193 is an obvious starting point.
To what extent do OpSnap and Crashmap incidents overlap?
To what extent are they complementary?
To what extent do they identify the same or different types of problems?

More generally, OpSnap data holds potential for use in the evaluation of experimental interventions.
Depending on the level of submissions there is the potential to use the data to assess effects before and after interventions, and to identify comparison (control group) sites.
Different road safety interventions imply different resource needs.
Ideally, evaluations would include cost-benefit analysis of the portfolio of social and economic costs involved, including the cost of death and injury.

# Conclusion

This study offers what we believe is the first study using the open access Operation Snap data.
It provides proof-of-concept that OpSnap data holds considerable research potential.
It has the potential to inform policy and practice promoting road safety.
Drawing on the analysis of the West Yorkshire data, a research agenda was outlined.
This preliminary list will prove far from exhaustive.
While aspects of that agenda may appear ambitious at the time of writing, we suggest that the present study will have achieved one of its aims if this agenda is rapidly superseded by further research.

The focus here was video evidence submissions by cyclists.
Relative to distance travelled by cyclists, their submissions were around 20 times over-represented in the West Yorkshire data.
This was the justification for our focus.
The disproportionality likely reflects the vulnerability of cyclists relative to motor vehicle users when the two forms of transport interact, and when close passes, near misses and crashes occur.
Our primary conclusion is that further research into video submissions to Operation Snap holds significant potential to inform the future of road safety for a broad range of road users.

# References
