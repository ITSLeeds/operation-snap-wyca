---
title: "Cyclist video evidence of road traffic offences: Preliminary analysis of Operation Snap data and suggestions for a research agenda"
bibliography: references.bib
editor:
  markdown: 
    wrap: sentence
author:
  - name: Graham Farrell
    corresponding: true
    affiliations:
      - name: University of Leeds
        department: School of Law
        address: The Liberty Building
        city: Leeds
        country: United Kingdom
        postal-code: LS2 9JT
    orcid: 0000-0002-3987-8457
  - name: Robin Lovelace
    affiliations:
      - name: University of Leeds
        department: Institute for Transport Studies
        address: University Road
        city: Leeds
        country: United Kingdom
        postal-code: LS2 9JT
      - name: Active Travel England
        # department: Data and Digital
        # address: West Offices Station Rise
        # city: York
        # country: United Kingdom
        # postal-code: YO1 6GA
    orcid: 0000-0001-5679-6536
  - name: Steve O'Hern
    affiliations:
      - name: University of Leeds
        department: Institute for Transport Studies
        address: University Road
        city: Leeds
        country: United Kingdom
        postal-code: LS2 9JT
      - name: Monash University Accident Research Centre
        address: Clayton, VIC 3800, Australia
    orcid: 0000-0002-7961-3875
keywords: 
  - Cycling
  - Hotspots 
  - Road safety
  - Video evidence
  - Dashcam
  - Near misses
date: last-modified
format:
  # pdf: default
  arxiv-pdf:
    keep-tex: true
linenumbers: true # Add (continuous) line numbers?
doublespacing: false # Double space the PDF output?
runninghead: "Preprint" # The text on the top of each page of the output
authorcols: true # Should authors be listed in a single column (default) or in multiple columns (`authorcols: true`)
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  echo = FALSE,
  warning = FALSE
)
```

```{r setup}
library(opsnap)
```

# Abstract {.unnumbered}

This study uses data from Operation Snap (OpSnap), the UK police’s national system to receive road users’ video evidence of road traffic offences.
Data from one police force area for three calendar years, from its launch in 2021 (N= 18,363 records), is analysed.
Of submitted cases, 34.4% were from cyclists (n=6,312) of which 69% resulted in an offence being registered, mostly for driving ‘without reasonable consideration to others’ or ‘without due care and attention’.
Three quarters (75.2%) of reported cases resulted in the recommended disposal of an educational course (including conditional offers), a quarter in no further action, and fewer than 1% for court appearance.
A research agenda using OpSnap data is outlined: comparative analysis of submission type, source, hotspot locations, and case disposal should be undertaken at national, regional, and local levels; research into disposal-related decision-making, video quality, and the role of supporting evidence should identify good practice; further study of video content, offence concentration (recidivism, repeat submitters of evidence, spatial hotspots) and case progression including court cases, holds significant potential to inform policy and practice locally, nationally and internationally. 
 

# Introduction

Dangerous and criminal driving are significant problems that take many forms [@simon1996; @corbett2003; @corbett2010].
Across Great Britain there were an estimated 1,711 fatalities resulting from a road traffic crash in 2022 and 135,480 causalities reported across all severities [@dft-xxxx].
Most injuries involve motor vehicle occupants, however when accounting for the distance travelled by road user groups, cyclists are over-represented in injury statistics (Department for Transport, 2023a).
Between 2004 and 2022, an average of 104 cyclists were killed and 4,212 were seriously injured each year in Britain according to police records (Department for Transport, 2023b).
Almost half of cyclist fatalities involved collision with a car, with 56% on rural roads (compared to 30% of traffic).
The 2023 report noted that “the most common contributory factor allocated to pedal cyclists in fatal or serious collisions (FSC) with another vehicle was ‘driver or rider failed to look properly’” (Department for Transport, 2023b).

```{=html}
<!-- The context for the study is that, between 2004 and 2022, an average of 104 cyclists were killed and 4,212 were seriously injured each year according to official records recorded by police forces across Great Britain [@departmentfortransport].
Almost half of cyclist fatalities involved collision with a car, with 56% on rural roads (compared to 30% of traffic).
The 2023 report noted that “the most common contributory factor allocated to pedal cyclists in fatal or serious collisions (FSC) with another vehicle was ‘driver or rider failed to look properly’” [@departmentfortransport].  -->
```

Cyclist crashes are underreported in police recorded datasets (Elvik & Mysen, 1999) and the extent of injuries sustained by cyclists may be higher when hospital-recorded cases are counted (Janstrup et al., 2016). Under-reporting in police datasets is likely to be greatest for minor injuries, while records are seldom kept when a collision or injury is avoided due to riders or drivers taking evasive actions (Ibrahim et al., 2021). These incidents are often referred to as “near-misses” (Ibrahim et al., 2021).

Commuter cyclists in the UK experience a near miss for every six miles of riding (Aldred & Crosweller, 2015), and concern over near misses are a key reason people choose not to cycle (Sanders, 2015), being associated with inattentive driving, aggressive driving, driving too fast, passing too close, being car-doored, and being cut off by turning drivers (Sanders, 2015). In their review of near miss cycling crashes, Ibrahim et al., (2021) highlighted the need for better data on near misses to inform safety research.  

Close passes are the most common type of near miss reported by cyclists, and are associated with collisions resulting in injury [@aldred2016]. A ‘close pass’ refers to when a vehicle passes too close to a cyclist, which is defined in the UK as less than 1.5 metres away at 30mph (50kph).  Close passes take different forms including the ‘punishment pass’ by angry drivers for a perceived slight such as causing the driver to slow down [@cubbin2024]. There is no specific law in the UK Road Traffic Act 1988 for driving too close to cyclist, but two are commonly applied for careless driving: RT88575- Drive without due care and attention; and RT99576 – Driver without reasonable consideration to others - and these are prominent in the analysis that follows. 


This study highlights the potential of using open access data from Operation Snap, the UK police’s national system to receive road users’ video evidence of road traffic offences. Operation Snap, often referred to informally as ‘OpSnap’, was piloted by North Wales police in October 2016 and adopted by all Welsh forces by 20181. It is now in operation nationally across England and Wales, each police force offering its own submission portal for road users to submit video evidence. The nature of video submissions and the related expectations are summarised on the website of one Police and Crime Commissioner as follows:   

- The secure form is for traffic offences, it is NOT for submitting footage of road traffic collisions, any other offences or for parking issues. 
- The car registration number of the offending vehicle must be clearly visible. 
- The public should be prepared to sign a witness statement and possibly give evidence in court. 
- Statements for OpSnap can only be accepted from persons aged 18 or over. If you are under 18 the incident should be reported by email to [email]2. 

This is, to our knowledge, the first research study to use this dataset. As such, the study is offered as proof-of-concept of the potential for analysis of this data, and of its further potential, including understanding the factors associated with cyclist near miss incidents. Following analysis and discussion of three years of data for one police force area, the study outlines a research agenda designed to inform policy and practice. 

# Methods and data {#sec-methods}

Open access data from West Yorkshire Safer Roads – Op Snap (West Yorkshire Police 2024) was used for this study, the media submissions portal having opened in July 2020 (West Yorkshire Police 2020).
The West Yorkshire Police (WYP) data used here spanned calendar years 2021 and 2023.
Data for 2021 was included, however it was far less numerous, with less than half the cases of either 2022 or 2023.
This could relate to reduced road use during the COVID-19 pandemic . 
 

The dataset consists of a tabulation of reported cases that have been submitted to the West Yorkshire Safer Roads Op Snap web portal. 
 

The terms ‘record’ and ‘case’ are used interchangeably here to refer to a record in the Op Snap database, each of which represents the separate submission of video evidence by a road user. 

The portal allows members of the public to submit video footage of suspected traffic offences committed by motor vehicle drivers.
Video footage is commonly recorded from on-board cameras. 
For motor vehicles these cameras are typically mounted on or near the vehicle front dashboard, and are often referred to as ‘dash cams’.
One source examined GB Driving Licence data to find that by early 2024, close to a third of private and commercial vehicle in the UK had a dash cam (iCompario, 2024).
For cyclists, footage is commonly recorded using helmet or handlebar mounted cameras, the proportion of cyclists using these cameras is unknown, however anecdotal evidence suggests that there is increased usage, with many choosing to record rides as proof if an incident does occur. 
 

Complainants upload the footage and complete a short form that includes their personal details, the details of the vehicle involved including registration, make model and colour, the location and time of the incident, and details of the camera used to record the footage (ref).
It is noted that only offences committed by registered motor vehicles can be reported as complainants are required to submit the registration number of the offending vehicle, which must also be readable in the uploaded footage. 

 

A deidentified summary of the submitted cases is available for download, which also includes details of the reported offence and the disposal decision by police.
This deidentified dataset forms the bases for the analysis presented in this study. 
 

Each record contained an ‘Offence Location’ field.
This was typically a street name and town or city name, or an intersection.
Example offence locations included: ‘A58 Godley Road, Halifax’, ‘Keighley Road, Silsden’ , ‘Woodhouse Lane A660, Leeds’.
Approximate geolocations were obtained using Google API, restricting cases to within West Yorkshire. 

```{r}
#| include: false
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
library(tidyverse)
remotes::install_github("ITSLeeds/opsnap")
```

```{r}
#| include: false
#| echo: false
devtools::load_all()
```

```{r}
#| echo: false
#| include: false
library(rvest)
query = ".file-link a"
url = "https://www.westyorkshire.police.uk/SaferRoadsSubmissions"
files_available = read_html(url) |>
  html_nodes(query) |>
  html_text()
links_available = read_html(url) |>
  html_nodes(query) |>
  html_attr("href")
urls = paste0("https://www.westyorkshire.police.uk", links_available)
file_names = basename(links_available)
tibble::tibble(file_names) |>
  knitr::kable()

# In preparation for reading-in all data:
# date_str = format(Sys.Date(), "%Y-%m")
date_str = format(as.Date("2024-04-01"), "%Y-%m")
file_name = paste0("data/west-yorkshire/operation_snap_", date_str, ".csv")
```

```{r}
#| eval: false
#| echo: false
# Download them to raw_data/west-yorkshire:
dir.create("raw_data/west-yorkshire", recursive = TRUE, showWarnings = FALSE)
pbapply::pblapply(urls, function(u) {
  download.file(u, paste0("raw_data/west-yorkshire/", basename(u)))
})

# Test with 2nd url:
u = urls[2]
d2 = opsnap:::download_and_read(u)
d_all = purrr::map_df(urls, opsnap:::download_and_read)
dir.create("data/west-yorkshire", recursive = TRUE, showWarnings = FALSE)
# Date to nearest month:
write_csv(d_all, file_name)
```

The data is open acess and looks like this, with names cleaned up by the package:

```{r}
#| eval: false
#| echo: true
#| include: false
u = "https://www.westyorkshire.police.uk/sites/default/files/2024-01/operation_snap_oct-dec_2023_0.xlsx"
d = opsnap:::download_and_read(u)
names(d)
# Old names:
#  [1] "REPORTER TRANSPORT MODE" "OFFENDER VEHICLE MAKE"  
#  [3] "OFFENDER VEHICLE MODEL"  "OFFENDER VEHICLE COLOUR"
#  [5] "OFFENCE"                 "DISTRICT"               
#  [7] "DISPOSAL"                "DATE OF SUBMISSION"     
#  [9] "...9"                    "OFF LOCATION"
# New names:
# [1] "mode"     "make"     "model"    "colour"   "offence"  "district" "disposal"
# [8] "date"     "location"
```

<!-- The data looks like this (first 3 rows shown): -->

```{r}
#| echo: false
#| include: false
d_all = read_csv(file_name)
d_all = d_all |>
  mutate(
    mode = tolower(mode),
    offence = tolower(offence),
    disposal = tolower(disposal)
  )
d_all |>
  head(3) |>
  # Convert column names to title case:
  rename_all(snakecase::to_title_case) |>
  # snakecase::to_title_case
  knitr::kable()
```

# Results

There are `r nrow(d_all)` records in the data, with increasing numbers of records over time, as illustrated in @fig-time:

```{r}
#| label: fig-time
#| fig-cap: "Number of records per month in the opSnap dataset for West Yorkshire"
d_all_monthly = d_all |>
  mutate(month = lubridate::floor_date(date, "month")) |>
  group_by(month) |>
  summarise(n = n()) |>
  mutate(records = "all")
d_offence = d_all |>
  opsnap:::filter_offence_nas()
d_offence_monthly = d_offence |>
  mutate(month = lubridate::floor_date(date, "month")) |>
  group_by(month) |>
  summarise(n = n()) |>
  mutate(records = "complete_offence")
d = d_offence |>
  opsnap:::filter_location_nas()
d_complete_monthly = d |>
  mutate(month = lubridate::floor_date(date, "month")) |>
  group_by(month) |>
  summarise(n = n()) |>
  mutate(records = "complete")
d_monthly = bind_rows(d_all_monthly, d_complete_monthly)
d_monthly |>
  mutate(records = snakecase::to_title_case(records)) |> 
  rename_all(snakecase::to_title_case) |> 
  ggplot() +
  geom_line(aes(Month, N, colour = Records), alpha = 0.5, size = 2) +
  # geom_smooth(aes(month, n, colour = records), method = "lm", se = FALSE) +
  labs(title = "Number of records in West Yorkshire Police\nOperation Snap data",
       x = "Date",
       y = "Number of records per month") +
  theme_minimal()
```

As shown in the graph above, `r round(nrow(d_offence) / nrow(d_all) * 100, 1)`% have values for the 'offence' column.
Many records lack either an offence or a location, leaving only `r round(nrow(d) / nrow(d_all) * 100, 1)`% or `r nrow(d)` complete records.

The breakdown of records by mode of transport (of the observer) is shown @tbl-mode.

```{r}
#| label: tbl-mode
#| tbl-cap: Number of OpSnap records by observer mode.
d_all |>
  count(mode, sort = TRUE) |>
  mutate(percent_records = n / nrow(d_all)) |>
  mutate(percent_records = scales::percent(round(percent_records, 3))) |>
  arrange(desc(n)) |>
  rename_all(snakecase::to_title_case) |>
  knitr::kable()
```

The offence text strings are quite long, with the most common offences shown in @tbl-offences:

```{r}
#| label: tbl-offences
#| tbl-cap: Number and percentages of OpSnap records by offence type.
d_all |>
  count(offence, sort = TRUE) |>
  mutate(percent_records = n / nrow(d_all)) |>
  mutate(percent_records = scales::percent(round(percent_records, 3))) |>
  arrange(desc(n)) |>
  head(10) |>
  rename_all(snakecase::to_title_case) |>
  knitr::kable()
```

<!-- The equivalent table excluding records with missing offence data is shown below: -->

```{r}
#| include: false
d_all |>
  opsnap:::filter_offence_nas() |>
  filter(offence != "n/a") |>
  count(offence, sort = TRUE) |>
  mutate(percent_records = n / nrow(d_offence)) |>
  mutate(percent_records = scales::percent(round(percent_records, 3))) |>
  arrange(desc(n)) |>
  head(10) |>
  rename_all(snakecase::to_title_case) |>
  knitr::kable()
```

The equivalent for cyclists, with the least common offences categorised as 'other', is shown in @tbl-offences-cyclist-observer.

```{r}
#| label: tbl-offences-cyclist-observer
#| tbl-cap: "Number and percentages of OpSnap records, submitted by cyclists, by offence type."
d_all |>
  opsnap:::filter_offence_nas() |>
  filter(offence != "n/a") |>
  filter(mode == "cyclist") |>
  count(offence, sort = TRUE) |>
  mutate(percent_records = n / nrow(d_offence)) |>
  mutate(percent_records = scales::percent(round(percent_records, 3))) |>
  mutate(
    offence = ifelse(n < 20, "other", offence)
  ) |>
  group_by(offence) |>
  summarise(n = sum(n), n_hybrid = n()) |>
  arrange(n_hybrid, desc(n)) |>
  select(-n_hybrid) |>
  mutate(`% of total` = scales::percent(n / sum(n), accuracy = 0.1)) |>
  rename_all(snakecase::to_title_case) |> 
  knitr::kable()
```

In terms 'disposal', the most common values are shown in @tbl-disposal.

```{r}
#| label: tbl-disposal
#| tbl-cap: "Most common disposal values in the OpSnap dataset."
d_all |>
  count(disposal, sort = TRUE) |>
  mutate(percent_records = n / nrow(d_all)) |>
  mutate(percent_records = scales::percent(round(percent_records, 3))) |>
  arrange(desc(n)) |>
  rename_all(snakecase::to_title_case) |> 
  knitr::kable()
```

There are `r unique(d$location) |> length()` unique location text strings (addresses) in the data, with the most common locations shown in @tbl-locations:

```{r}
#| echo: false
#| label: tbl-locations
#| tbl-cap: "Most common locations recorded in the OpSnap dataset"
d |>
  count(location, sort = TRUE) |>
  mutate(percent_records = n / nrow(d)) |>
  mutate(percent_records = scales::percent(round(percent_records, 3))) |>
  arrange(desc(n)) |>
  head(10) |>
  rename_all(snakecase::to_title_case) |> 
  knitr::kable()
```

# Discussion

# References