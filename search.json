[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Leeds Institute Transport Studies Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Robin Lovelace. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lovelace R (2024). opsnap: Get Open Data Operation Snap Police Records. R package version 0.0.0.9000.","code":"@Manual{,   title = {opsnap: Get Open Data from Operation Snap Police Records},   author = {Robin Lovelace},   year = {2024},   note = {R package version 0.0.0.9000}, }"},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Get Open Data from Operation Snap Police Records","title":"Get Open Data from Operation Snap Police Records","text":"Install package GitHub:","code":"remotes::install_github(\"ITSLeeds/opsnap\")"},{"path":"/index.html","id":"opsnap-data","dir":"","previous_headings":"","what":"Opsnap data","title":"Get Open Data from Operation Snap Police Records","text":"opsnap package provides function download read data West Yorkshire Police Operation Snap database. data available following URL: https://www.westyorkshire.police.uk/SaferRoadsSubmissions data open acess looks like , names cleaned package: data looks like (first 3 rows shown): provide function geocode records:  can query data downloaded opsnap functions, e.g. follows (results shown): Let’s make plot data:","code":"u = \"https://www.westyorkshire.police.uk/sites/default/files/2024-01/operation_snap_oct-dec_2023_0.xlsx\" d = opsnap:::download_and_read(u) names(d) [1] \"mode\"     \"make\"     \"model\"    \"colour\"   \"offence\"  \"district\" \"disposal\" [8] \"date\"     \"location\" # Old names: #  [1] \"REPORTER TRANSPORT MODE\" \"OFFENDER VEHICLE MAKE\"   #  [3] \"OFFENDER VEHICLE MODEL\"  \"OFFENDER VEHICLE COLOUR\" #  [5] \"OFFENCE\"                 \"DISTRICT\"                #  [7] \"DISPOSAL\"                \"DATE OF SUBMISSION\"      #  [9] \"...9\"                    \"OFF LOCATION\" d |>   head(3) |>   knitr::kable() # Function to clean up column names d_sample = d[1:50, ] d_sf = opsnap:::op_geocode(d_sample) mapview::mapview(d_sf) table(d$offence) |>   sort() d |>   # Reduce nchar of offence   mutate(offence = stringr::str_sub(offence, 1, 60)) |>   group_by(offence) |>   # Count number of rows in each group   mutate(n = n()) |>   filter(n > nrow(d) / 50)|>   ggplot() +   geom_bar(aes(offence)) +   # Make x labels vertical   theme(axis.text.x = element_text(angle = 60, hjust = 1))"}]
